
# Лабораторная работа по дисциплине «Операционные системы» № 4 **«Установка пакетов FreeBSD»** #
Цель работы:
- научиться устанавливать и удалять ранее установленные пакеты во FreeBSD;
- как найти нужное программное обеспечение.  
## Теоретическая часть ##

<p align="justify">Вместе с FreeBSD в составе базового комплекта системы поставляется богатый набор системный утилит. Однако для выполнения какой-то реальной работы очень скоро возникает необходимость в установке дополнительных приложений сторонних разработчиков. FreeBSD дает две взаимодополняющих технологии для установки программного обеспечения сторонних разработчиков: Коллекция Портов FreeBSD (для установки из исходных кодов) и пакеты (для установки из откомпилированных двоичных файлов). Любая из этих систем может быть использована для установки приложений с локальных носителей или прямо из сети.

## Стандартная процедура установки программного обеспечения##  
<p align="justify">
1. Загрузка программного обеспечения, которое может распространяться в форме исходных текстов или двоичных файлов.
2. Распаковка программного обеспечения из дистрибутивного формата (обычно tar-архива, сжатого при помощи compress(1), gzip(1) или bzip2(1)).
3. Поиск документации в файлах INSTALL, README или в каком-то файле из подкаталога doc/ и её чтение в поиске описания установки программного обеспечения.
4. Если программное обеспечение распространялось в форме исходных текстов, его компиляция. Сюда может быть включено редактирования файла Makefile, запуск скрипта configure и другие работы.

### Тестирование и установка программного обеспечения

<p align="justify">Если вы устанавливаете программный пакет, который не был специально перенесён на FreeBSD, то вам может даже потребоваться редактировать код для того, чтобы он нормально заработал.

<p align="justify">FreeBSD предоставляет две технологии, которые выполняют эту работу за вас. В настоящее время доступно более 24,000 сторонних приложений.

<p align="justify">Каждый пакет содержит уже откомпилированные копии всех команд приложения, а также все конфигурационные файлы и документацию. С файлом пакета можно работать командами управления пакетами FreeBSD, такими как pkg_add(1), pkg_delete(1), pkg_info(1) и так далее.

<p align="justify">Каждый порт FreeBSD является набором файлов, предназначенных для автоматизации процесса компиляции приложения из исходного кода. Файлы, из которых состоит порт, содержат всю необходимую информацию для выполнения автоматической загрузки, извлечения, применения патчей, компиляции и установки приложения.

<p align="justify">Также система портов может использоваться для генерации пакетов, которые в последствии становятся объектом работы для команд управления пакетами FreeBSD.

<p align="justify">Как пакеты, так и порты принимают во внимание зависимости. Если при инсталляции приложения при помощи pkg_add(1) или Коллекции Портов будет обнаружено, что необходимая библиотека не была установлена, то первым делом будет выполнена установка библиотеки.

<p align="justify">Несмотря на то, что обе технологии весьма похожи, и пакеты, и порты имеют свои преимущества. Выберите технологию, которая соответствует вашим требованиям к установке конкретного приложения.

Преимущества пакетов
<p align="justify">Сжатый tar-архив пакета обычно меньше, чем сжатый tar-архив, содержащий исходный код приложения.

<p align="justify">Пакеты не требуют времени на компиляцию. Для больших приложений, таких как Mozilla, KDE или GNOME, это может быть важно, особенно при работе на медленной системе.

Пакеты не требуют понимания процесса компиляции программного обеспечения во FreeBSD.

Преимущества портов
<p align="justify">Пакеты обычно компилируются с консервативными параметрами, потому что они должны работать на максимальном количестве систем. При установке из порта становится возможным изменение опций компиляции.

<p align="justify">Некоторые приложения имеют опции времени компиляции, позволяющие определять необходимые функциональные возможности. К примеру, Apache может быть настроен с широким набором различных опций.

<p align="justify">В некоторых случаях для одного и того же приложения будут иметься несколько пакетов с разными предварительными настройками. Например, Ghostscript доступен как пакет ghostscript и как пакет ghostscript-nox11 - в зависимости от того, установлен ли сервер X11. Создание нескольких пакетов одного приложения быстро становится бессмысленным, если приложение имеет более одного-двух параметров компиляции.

<p align="justify">Условия лицензирования некоторого программного обеспечения запрещают распространение в двоичном виде. Оно должно распространяться в виде исходного кода и компилироваться конечным пользователем.

<p align="justify">Некоторые пользователи не доверяют дистрибутивам в двоичном виде или предпочитают прочесть исходный код и попытаться найти потенциальные проблемы.

<p align="justify">Если у вас есть собственные патчи, вам нужен исходный код для того, чтобы их применять.


<p align="justify">Предупреждение: Перед установкой любого приложения необходимо зайти на http://vuxml.freebsd.org/, где находится информация по вопросам безопасности приложений, или установить ports-mgmt/portaudit. После установки наберите portaudit -F -a для проверки всех установленных приложений на наличие известных уязвимостей.



  ## Задание##
1. Запустите FreeBSD. Зайдите через root.  
2. Зайдите в директорию /usr/ports/ и выясните, какие имеются порты. Сохраните их список в отдельный файл.
3. Добавьте в виртуальную машину выданный образ FreeBSD DVD. Получите нужный образ на занятии или скачайте .iso из репозитория https://download.freebsd.org/ftp/releases/ISO-IMAGES/12.0/.
4. С помощью команды

        ls /dev | grep cd
выясните имя, под которым система видит оптический накопитель.
5. Чтобы увидеть содержимое DVD диска, нужно выделить для него пустой каталог и примонтировать к нему носитель. Вот как это сделать:
        # создаем каталог
        mkdir /mnt/cdrom
        # монтируем диск
        mount -t cd9660  /dev/НАЗВАНИЕ_ДИСКА  /mnt/cdrom
        # смотрим содержимое диска
        ls /mnt/cdrom
        # также /mnt/cdrom должен быть в списке точек монтирования
6.   Если все сделано правильно, в каталоге /mnt/cdrom мы увидим содержимое DVD диска. Интересующие нас бинарные пакеты находятся в /mnt/cdrom/packages/All, но их там довольно много, так что для просмотра каталога нужно использовать связку ls | less или ls | grep. Название папки с пакетами может отличаться в зависимости от образа. Например, /mnt/cdrom/packages/FreeBSD:12:i386/All.
Пример:

          ls /mnt/cdrom/packages/All | grep НАЗВАНИЕ_ПАКЕТА

Эти команды нужны, чтобы узнать полную версию и название пакета.

7. Но перед установкой мы должны присвоить значение переменной окружения PKG_PATH, чтобы программа знала, где искать пакеты.

        setenv PKG_PATH /mnt/cdrom/packages/All

8. Выберите один из пакетов для установки и установите его при помощи команды pkg install ПОЛНОЕ_ИМЯ_ПАКЕТА.
9. После установки проверьте установку пакета командой pkg info.

Контрольные вопросы  
                    1. Какие технологии для установки ПО есть во FreeBSD? В чем их отличие?  
                    2. Как примонтировать диск в FreeBSD?


## Содержание отчета ##
<p align="justify"> Отчет сдается преподавателю в электронном виде. Файл с отчетом должен иметь название типа: Группа_Номер_лабораторной_Фамилия_студента/ов, например, 19-КБ-ИВ1_ЛР1_Мельников.

1.	Название
2.	Цель работы
3.	Задание
4.	Ответы на контрольные вопросы
